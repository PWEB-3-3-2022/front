var $t=Object.defineProperty,vt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Q=(t,e,n)=>e in t?$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||(e={}))jt.call(e,n)&&Q(t,n,e[n]);if(K)for(var n of K(e))St.call(e,n)&&Q(t,n,e[n]);return t},Z=(t,e)=>vt(t,xt(e));function k(){}function ot(t,e){for(const n in e)t[n]=e[n];return t}function it(t){return t()}function tt(){return Object.create(null)}function S(t){t.forEach(it)}function ct(t){return typeof t=="function"}function ut(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let D;function Mt(t,e){return D||(D=document.createElement("a")),D.href=e,t===D.href}function Ot(t){return Object.keys(t).length===0}function lt(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ut(t,e,n){t.$$.on_destroy.push(lt(e,n))}function Wt(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function Gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ht(t){return document.createElement(t)}function at(t){return document.createTextNode(t)}function Jt(){return at(" ")}function U(){return at("")}function Kt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Qt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qt(t){return Array.from(t.childNodes)}function Vt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Zt(t,e){t.value=e==null?"":e}function te(t,e,n){t.classList[n?"add":"remove"](e)}function At(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let A;function q(t){A=t}function W(){if(!A)throw new Error("Function called outside component initialization");return A}function Ct(t){W().$$.after_update.push(t)}function Lt(t){W().$$.on_destroy.push(t)}function Rt(){const t=W();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const c=At(e,n);r.slice().forEach(u=>{u.call(t,c)})}}}function et(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const O=[],nt=[],P=[],X=[],ft=Promise.resolve();let B=!1;function dt(){B||(B=!0,ft.then(_t))}function ht(){return dt(),ft}function F(t){P.push(t)}function ee(t){X.push(t)}const Y=new Set;let N=0;function _t(){const t=A;do{for(;N<O.length;){const e=O[N];N++,q(e),Dt(e.$$)}for(q(null),O.length=0,N=0;nt.length;)nt.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];Y.has(n)||(Y.add(n),n())}P.length=0}while(O.length);for(;X.length;)X.pop()();B=!1,Y.clear(),q(t)}function Dt(t){if(t.fragment!==null){t.update(),S(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const I=new Set;let E;function G(){E={r:0,c:[],p:E}}function H(){E.r||S(E.c),E=E.p}function $(t,e){t&&t.i&&(I.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),E.c.push(()=>{I.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function pt(t,e){const n={},r={},c={$$scope:1};let u=t.length;for(;u--;){const l=t[u],o=e[u];if(o){for(const s in l)s in o||(r[s]=1);for(const s in o)c[s]||(n[s]=o[s],c[s]=1);t[u]=o}else for(const s in l)c[s]=1}for(const l in r)l in n||(n[l]=void 0);return n}function gt(t){return typeof t=="object"&&t!==null?t:{}}function ne(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function T(t){t&&t.c()}function C(t,e,n,r){const{fragment:c,on_mount:u,on_destroy:l,after_update:o}=t.$$;c&&c.m(e,n),r||F(()=>{const s=u.map(it).filter(ct);l?l.push(...s):S(s),t.$$.on_mount=[]}),o.forEach(F)}function L(t,e){const n=t.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nt(t,e){t.$$.dirty[0]===-1&&(O.push(t),dt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pt(t,e,n,r,c,u,l,o=[-1]){const s=A;q(t);const i=t.$$={fragment:null,ctx:null,props:u,update:k,not_equal:c,bound:tt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:tt(),dirty:o,skip_bound:!1,root:e.target||s.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(g,y,..._)=>{const m=_.length?_[0]:y;return i.ctx&&c(i.ctx[g],i.ctx[g]=m)&&(!i.skip_bound&&i.bound[g]&&i.bound[g](m),h&&Nt(t,g)),y}):[],i.update(),h=!0,S(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const g=qt(e.target);i.fragment&&i.fragment.l(g),g.forEach(z)}else i.fragment&&i.fragment.c();e.intro&&$(t.$$.fragment),C(t,e.target,e.anchor,e.customElement),_t()}q(s)}class It{$destroy(){L(this,1),this.$destroy=k}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const c=r.indexOf(n);c!==-1&&r.splice(c,1)}}$set(e){this.$$set&&!Ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const x=[];function mt(t,e){return{subscribe:bt(t,e).subscribe}}function bt(t,e=k){let n;const r=new Set;function c(o){if(ut(t,o)&&(t=o,n)){const s=!x.length;for(const i of r)i[1](),x.push(i,t);if(s){for(let i=0;i<x.length;i+=2)x[i][0](x[i+1]);x.length=0}}}function u(o){c(o(t))}function l(o,s=k){const i=[o,s];return r.add(i),r.size===1&&(n=e(c)||k),o(t),()=>{r.delete(i),r.size===0&&(n(),n=null)}}return{set:c,update:u,subscribe:l}}function yt(t,e,n){const r=!Array.isArray(t),c=r?[t]:t,u=e.length<2;return mt(n,l=>{let o=!1;const s=[];let i=0,h=k;const g=()=>{if(i)return;h();const _=e(r?s[0]:s,l);u?l(_):h=ct(_)?_:k},y=c.map((_,m)=>lt(_,R=>{s[m]=R,i&=~(1<<m),o&&g()},()=>{i|=1<<m}));return o=!0,g(),function(){S(y),h()}})}function Tt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,c,u,l=[],o="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(l.push("wild"),o+="/(.*)"):n===":"?(r=c.indexOf("?",1),u=c.indexOf(".",1),l.push(c.substring(1,~r?r:~u?u:c.length)),o+=!!~r&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(o+=(~r?"?":"")+"\\"+c.substring(u))):o+="/"+c;return{keys:l,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function zt(t){let e,n,r;const c=[t[2]];var u=t[0];function l(o){let s={};for(let i=0;i<c.length;i+=1)s=ot(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[7])),{c(){e&&T(e.$$.fragment),n=U()},m(o,s){e&&C(e,o,s),M(o,n,s),r=!0},p(o,s){const i=s&4?pt(c,[gt(o[2])]):{};if(u!==(u=o[0])){if(e){G();const h=e;j(h.$$.fragment,1,0,()=>{L(h,1)}),H()}u?(e=new u(l()),e.$on("routeEvent",o[7]),T(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(o){r||(e&&$(e.$$.fragment,o),r=!0)},o(o){e&&j(e.$$.fragment,o),r=!1},d(o){o&&z(n),e&&L(e,o)}}}function Yt(t){let e,n,r;const c=[{params:t[1]},t[2]];var u=t[0];function l(o){let s={};for(let i=0;i<c.length;i+=1)s=ot(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[6])),{c(){e&&T(e.$$.fragment),n=U()},m(o,s){e&&C(e,o,s),M(o,n,s),r=!0},p(o,s){const i=s&6?pt(c,[s&2&&{params:o[1]},s&4&&gt(o[2])]):{};if(u!==(u=o[0])){if(e){G();const h=e;j(h.$$.fragment,1,0,()=>{L(h,1)}),H()}u?(e=new u(l()),e.$on("routeEvent",o[6]),T(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(o){r||(e&&$(e.$$.fragment,o),r=!0)},o(o){e&&j(e.$$.fragment,o),r=!1},d(o){o&&z(n),e&&L(e,o)}}}function Xt(t){let e,n,r,c;const u=[Yt,zt],l=[];function o(s,i){return s[1]?0:1}return e=o(t),n=l[e]=u[e](t),{c(){n.c(),r=U()},m(s,i){l[e].m(s,i),M(s,r,i),c=!0},p(s,[i]){let h=e;e=o(s),e===h?l[e].p(s,i):(G(),j(l[h],1,1,()=>{l[h]=null}),H(),n=l[e],n?n.p(s,i):(n=l[e]=u[e](s),n.c()),$(n,1),n.m(r.parentNode,r))},i(s){c||($(n),c=!0)},o(s){j(n),c=!1},d(s){l[e].d(s),s&&z(r)}}}function st(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const J=mt(null,function(e){e(st());const n=()=>{e(st())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});yt(J,t=>t.location);const se=yt(J,t=>t.querystring),rt=bt(void 0);async function re(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await ht(),history.replaceState(Z(V({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Bt(t,e,n){let{routes:r={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(a,f){if(!f||typeof f!="function"&&(typeof f!="object"||f._sveltesparouter!==!0))throw Error("Invalid component object");if(!a||typeof a=="string"&&(a.length<1||a.charAt(0)!="/"&&a.charAt(0)!="*")||typeof a=="object"&&!(a instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:p}=Tt(a);this.path=a,typeof f=="object"&&f._sveltesparouter===!0?(this.component=f.component,this.conditions=f.conditions||[],this.userData=f.userData,this.props=f.props||{}):(this.component=()=>Promise.resolve(f),this.conditions=[],this.props={}),this._pattern=b,this._keys=p}match(a){if(c){if(typeof c=="string")if(a.startsWith(c))a=a.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const w=a.match(c);if(w&&w[0])a=a.substr(w[0].length)||"/";else return null}}const f=this._pattern.exec(a);if(f===null)return null;if(this._keys===!1)return f;const b={};let p=0;for(;p<this._keys.length;){try{b[this._keys[p]]=decodeURIComponent(f[p+1]||"")||null}catch{b[this._keys[p]]=null}p++}return b}async checkConditions(a){for(let f=0;f<this.conditions.length;f++)if(!await this.conditions[f](a))return!1;return!0}}const o=[];r instanceof Map?r.forEach((d,a)=>{o.push(new l(a,d))}):Object.keys(r).forEach(d=>{o.push(new l(d,r[d]))});let s=null,i=null,h={};const g=Rt();async function y(d,a){await ht(),g(d,a)}let _=null,m=null;u&&(m=d=>{d.state&&d.state.__svelte_spa_router_scrollY?_=d.state:_=null},window.addEventListener("popstate",m),Ct(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let R=null,v=null;const wt=J.subscribe(async d=>{R=d;let a=0;for(;a<o.length;){const f=o[a].match(d.location);if(!f){a++;continue}const b={route:o[a].path,location:d.location,querystring:d.querystring,userData:o[a].userData,params:f&&typeof f=="object"&&Object.keys(f).length?f:null};if(!await o[a].checkConditions(b)){n(0,s=null),v=null,y("conditionsFailed",b);return}y("routeLoading",Object.assign({},b));const p=o[a].component;if(v!=p){p.loading?(n(0,s=p.loading),v=p,n(1,i=p.loadingParams),n(2,h={}),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i}))):(n(0,s=null),v=null);const w=await p();if(d!=R)return;n(0,s=w&&w.default||w),v=p}f&&typeof f=="object"&&Object.keys(f).length?n(1,i=f):n(1,i=null),n(2,h=o[a].props),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i})).then(()=>{rt.set(i)});return}n(0,s=null),v=null,rt.set(void 0)});Lt(()=>{wt(),m&&window.removeEventListener("popstate",m)});function kt(d){et.call(this,t,d)}function Et(d){et.call(this,t,d)}return t.$$set=d=>{"routes"in d&&n(3,r=d.routes),"prefix"in d&&n(4,c=d.prefix),"restoreScrollState"in d&&n(5,u=d.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,h,r,c,u,kt,Et]}class oe extends It{constructor(e){super();Pt(this,e,Bt,Xt,ut,{routes:3,prefix:4,restoreScrollState:5})}}export{S as A,re as B,nt as C,ne as D,ee as E,oe as R,It as S,Jt as a,Qt as b,Mt as c,M as d,Ht as e,Wt as f,Vt as g,z as h,Pt as i,T as j,$ as k,j as l,C as m,k as n,L as o,G as p,H as q,Gt as r,ut as s,at as t,Ut as u,yt as v,se as w,te as x,Kt as y,Zt as z};
