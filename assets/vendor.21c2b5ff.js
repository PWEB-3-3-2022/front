function k(){}function et(t,e){for(const n in e)t[n]=e[n];return t}function nt(t){return t()}function K(){return Object.create(null)}function S(t){t.forEach(nt)}function st(t){return typeof t=="function"}function rt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let N;function Nt(t,e){return N||(N=document.createElement("a")),N.href=e,t===N.href}function mt(t){return Object.keys(t).length===0}function bt(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Dt(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function Pt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function It(t){return document.createElement(t)}function ot(t){return document.createTextNode(t)}function Tt(){return ot(" ")}function W(){return ot("")}function zt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ft(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function yt(t){return Array.from(t.childNodes)}function Mt(t,e,n){t.classList[n?"add":"remove"](e)}function wt(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let L;function q(t){L=t}function X(){if(!L)throw new Error("Function called outside component initialization");return L}function kt(t){X().$$.after_update.push(t)}function Et(t){X().$$.on_destroy.push(t)}function $t(){const t=X();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const c=wt(e,n);r.slice().forEach(u=>{u.call(t,c)})}}}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const O=[],V=[],P=[],M=[],it=Promise.resolve();let U=!1;function ct(){U||(U=!0,it.then(ut))}function vt(){return ct(),it}function Y(t){P.push(t)}function Ut(t){M.push(t)}const F=new Set;let D=0;function ut(){const t=L;do{for(;D<O.length;){const e=O[D];D++,q(e),xt(e.$$)}for(q(null),O.length=0,D=0;V.length;)V.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];F.has(n)||(F.add(n),n())}P.length=0}while(O.length);for(;M.length;)M.pop()();U=!1,F.clear(),q(t)}function xt(t){if(t.fragment!==null){t.update(),S(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const I=new Set;let E;function G(){E={r:0,c:[],p:E}}function H(){E.r||S(E.c),E=E.p}function $(t,e){t&&t.i&&(I.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),E.c.push(()=>{I.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function lt(t,e){const n={},r={},c={$$scope:1};let u=t.length;for(;u--;){const l=t[u],o=e[u];if(o){for(const s in l)s in o||(r[s]=1);for(const s in o)c[s]||(n[s]=o[s],c[s]=1);t[u]=o}else for(const s in l)c[s]=1}for(const l in r)l in n||(n[l]=void 0);return n}function ft(t){return typeof t=="object"&&t!==null?t:{}}function Yt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function T(t){t&&t.c()}function C(t,e,n,r){const{fragment:c,on_mount:u,on_destroy:l,after_update:o}=t.$$;c&&c.m(e,n),r||Y(()=>{const s=u.map(nt).filter(st);l?l.push(...s):S(s),t.$$.on_mount=[]}),o.forEach(Y)}function R(t,e){const n=t.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(O.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function St(t,e,n,r,c,u,l,o=[-1]){const s=L;q(t);const i=t.$$={fragment:null,ctx:null,props:u,update:k,not_equal:c,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:K(),dirty:o,skip_bound:!1,root:e.target||s.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(g,y,..._)=>{const m=_.length?_[0]:y;return i.ctx&&c(i.ctx[g],i.ctx[g]=m)&&(!i.skip_bound&&i.bound[g]&&i.bound[g](m),h&&jt(t,g)),y}):[],i.update(),h=!0,S(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const g=yt(e.target);i.fragment&&i.fragment.l(g),g.forEach(z)}else i.fragment&&i.fragment.c();e.intro&&$(t.$$.fragment),C(t,e.target,e.anchor,e.customElement),ut()}q(s)}class Ot{$destroy(){R(this,1),this.$destroy=k}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const c=r.indexOf(n);c!==-1&&r.splice(c,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const x=[];function at(t,e){return{subscribe:dt(t,e).subscribe}}function dt(t,e=k){let n;const r=new Set;function c(o){if(rt(t,o)&&(t=o,n)){const s=!x.length;for(const i of r)i[1](),x.push(i,t);if(s){for(let i=0;i<x.length;i+=2)x[i][0](x[i+1]);x.length=0}}}function u(o){c(o(t))}function l(o,s=k){const i=[o,s];return r.add(i),r.size===1&&(n=e(c)||k),o(t),()=>{r.delete(i),r.size===0&&(n(),n=null)}}return{set:c,update:u,subscribe:l}}function ht(t,e,n){const r=!Array.isArray(t),c=r?[t]:t,u=e.length<2;return at(n,l=>{let o=!1;const s=[];let i=0,h=k;const g=()=>{if(i)return;h();const _=e(r?s[0]:s,l);u?l(_):h=st(_)?_:k},y=c.map((_,m)=>bt(_,A=>{s[m]=A,i&=~(1<<m),o&&g()},()=>{i|=1<<m}));return o=!0,g(),function(){S(y),h()}})}function qt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,c,u,l=[],o="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(l.push("wild"),o+="/(.*)"):n===":"?(r=c.indexOf("?",1),u=c.indexOf(".",1),l.push(c.substring(1,~r?r:~u?u:c.length)),o+=!!~r&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(o+=(~r?"?":"")+"\\"+c.substring(u))):o+="/"+c;return{keys:l,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function Lt(t){let e,n,r;const c=[t[2]];var u=t[0];function l(o){let s={};for(let i=0;i<c.length;i+=1)s=et(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[7])),{c(){e&&T(e.$$.fragment),n=W()},m(o,s){e&&C(e,o,s),B(o,n,s),r=!0},p(o,s){const i=s&4?lt(c,[ft(o[2])]):{};if(u!==(u=o[0])){if(e){G();const h=e;j(h.$$.fragment,1,0,()=>{R(h,1)}),H()}u?(e=new u(l()),e.$on("routeEvent",o[7]),T(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(o){r||(e&&$(e.$$.fragment,o),r=!0)},o(o){e&&j(e.$$.fragment,o),r=!1},d(o){o&&z(n),e&&R(e,o)}}}function Ct(t){let e,n,r;const c=[{params:t[1]},t[2]];var u=t[0];function l(o){let s={};for(let i=0;i<c.length;i+=1)s=et(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[6])),{c(){e&&T(e.$$.fragment),n=W()},m(o,s){e&&C(e,o,s),B(o,n,s),r=!0},p(o,s){const i=s&6?lt(c,[s&2&&{params:o[1]},s&4&&ft(o[2])]):{};if(u!==(u=o[0])){if(e){G();const h=e;j(h.$$.fragment,1,0,()=>{R(h,1)}),H()}u?(e=new u(l()),e.$on("routeEvent",o[6]),T(e.$$.fragment),$(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(o){r||(e&&$(e.$$.fragment,o),r=!0)},o(o){e&&j(e.$$.fragment,o),r=!1},d(o){o&&z(n),e&&R(e,o)}}}function Rt(t){let e,n,r,c;const u=[Ct,Lt],l=[];function o(s,i){return s[1]?0:1}return e=o(t),n=l[e]=u[e](t),{c(){n.c(),r=W()},m(s,i){l[e].m(s,i),B(s,r,i),c=!0},p(s,[i]){let h=e;e=o(s),e===h?l[e].p(s,i):(G(),j(l[h],1,1,()=>{l[h]=null}),H(),n=l[e],n?n.p(s,i):(n=l[e]=u[e](s),n.c()),$(n,1),n.m(r.parentNode,r))},i(s){c||($(n),c=!0)},o(s){j(n),c=!1},d(s){l[e].d(s),s&&z(r)}}}function Z(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const J=at(null,function(e){e(Z());const n=()=>{e(Z())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ht(J,t=>t.location);ht(J,t=>t.querystring);const tt=dt(void 0);function At(t,e,n){let{routes:r={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(f,a){if(!a||typeof a!="function"&&(typeof a!="object"||a._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:p}=qt(f);this.path=f,typeof a=="object"&&a._sveltesparouter===!0?(this.component=a.component,this.conditions=a.conditions||[],this.userData=a.userData,this.props=a.props||{}):(this.component=()=>Promise.resolve(a),this.conditions=[],this.props={}),this._pattern=b,this._keys=p}match(f){if(c){if(typeof c=="string")if(f.startsWith(c))f=f.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const w=f.match(c);if(w&&w[0])f=f.substr(w[0].length)||"/";else return null}}const a=this._pattern.exec(f);if(a===null)return null;if(this._keys===!1)return a;const b={};let p=0;for(;p<this._keys.length;){try{b[this._keys[p]]=decodeURIComponent(a[p+1]||"")||null}catch{b[this._keys[p]]=null}p++}return b}async checkConditions(f){for(let a=0;a<this.conditions.length;a++)if(!await this.conditions[a](f))return!1;return!0}}const o=[];r instanceof Map?r.forEach((d,f)=>{o.push(new l(f,d))}):Object.keys(r).forEach(d=>{o.push(new l(d,r[d]))});let s=null,i=null,h={};const g=$t();async function y(d,f){await vt(),g(d,f)}let _=null,m=null;u&&(m=d=>{d.state&&d.state.__svelte_spa_router_scrollY?_=d.state:_=null},window.addEventListener("popstate",m),kt(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let A=null,v=null;const _t=J.subscribe(async d=>{A=d;let f=0;for(;f<o.length;){const a=o[f].match(d.location);if(!a){f++;continue}const b={route:o[f].path,location:d.location,querystring:d.querystring,userData:o[f].userData,params:a&&typeof a=="object"&&Object.keys(a).length?a:null};if(!await o[f].checkConditions(b)){n(0,s=null),v=null,y("conditionsFailed",b);return}y("routeLoading",Object.assign({},b));const p=o[f].component;if(v!=p){p.loading?(n(0,s=p.loading),v=p,n(1,i=p.loadingParams),n(2,h={}),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i}))):(n(0,s=null),v=null);const w=await p();if(d!=A)return;n(0,s=w&&w.default||w),v=p}a&&typeof a=="object"&&Object.keys(a).length?n(1,i=a):n(1,i=null),n(2,h=o[f].props),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i})).then(()=>{tt.set(i)});return}n(0,s=null),v=null,tt.set(void 0)});Et(()=>{_t(),m&&window.removeEventListener("popstate",m)});function pt(d){Q.call(this,t,d)}function gt(d){Q.call(this,t,d)}return t.$$set=d=>{"routes"in d&&n(3,r=d.routes),"prefix"in d&&n(4,c=d.prefix),"restoreScrollState"in d&&n(5,u=d.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,h,r,c,u,pt,gt]}class Bt extends Ot{constructor(e){super();St(this,e,At,Rt,rt,{routes:3,prefix:4,restoreScrollState:5})}}export{Bt as R,Ot as S,Tt as a,Ft as b,Nt as c,B as d,It as e,Dt as f,z as g,T as h,St as i,j,R as k,G as l,C as m,k as n,H as o,Pt as p,Mt as q,zt as r,rt as s,$ as t,V as u,Yt as v,Ut as w};
