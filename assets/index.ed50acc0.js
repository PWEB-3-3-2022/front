import{S as O,i as N,s as B,e as c,a as g,t as Q,b as i,c as ge,d as _,f as a,g as X,n as q,h as b,j as V,m as W,k as R,l as D,o as Y,p as Ne,q as Be,r as xe,u as ze,v as Ue,w as Ce,x as ve,y as ee,z as ne,A as E,B as Fe,C as be,D as _e,E as me,F as we,G as ke,R as De}from"./vendor.6ee45b47.js";const Je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};Je();function Qe(n){let e,t,l,s,o,r,u=n[0].title+"",f,d,p,k=n[0].year+"",z;return{c(){e=c("div"),t=c("img"),s=g(),o=c("div"),r=c("h4"),f=Q(u),d=g(),p=c("span"),z=Q(k),i(t,"alt","thumbnail"),i(t,"class","thumbnail svelte-1wzngsc"),ge(t.src,l=n[0].poster)||i(t,"src",l),i(r,"class","text-xl"),i(p,"class","text-sm"),i(o,"class","mosaic-tile-details svelte-1wzngsc"),i(e,"class","mosaic-tile svelte-1wzngsc")},m(y,w){_(y,e,w),a(e,t),a(e,s),a(e,o),a(o,r),a(r,f),a(o,d),a(o,p),a(p,z)},p(y,[w]){w&1&&!ge(t.src,l=y[0].poster)&&i(t,"src",l),w&1&&u!==(u=y[0].title+"")&&X(f,u),w&1&&k!==(k=y[0].year+"")&&X(z,k)},i:q,o:q,d(y){y&&b(e)}}}function Ke(n,e,t){let{media:l}=e;return n.$$set=s=>{"media"in s&&t(0,l=s.media)},[l]}class Ge extends O{constructor(e){super();N(this,e,Ke,Qe,B,{media:0})}}function Se(n,e,t){const l=n.slice();return l[1]=e[t],l}function qe(n){let e;return{c(){e=c("p"),e.textContent="Loading ..."},m(t,l){_(t,e,l)},d(t){t&&b(e)}}}function Ie(n){let e,t;return e=new Ge({props:{media:n[1]}}),{c(){V(e.$$.fragment)},m(l,s){W(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.media=l[1]),e.$set(o)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Ze(n){let e,t,l=n[0],s=[];for(let u=0;u<l.length;u+=1)s[u]=Ie(Se(n,l,u));const o=u=>D(s[u],1,1,()=>{s[u]=null});let r=null;return l.length||(r=qe()),{c(){e=c("div");for(let u=0;u<s.length;u+=1)s[u].c();r&&r.c(),i(e,"class","mosaic svelte-qk7oo4")},m(u,f){_(u,e,f);for(let d=0;d<s.length;d+=1)s[d].m(e,null);r&&r.m(e,null),t=!0},p(u,[f]){if(f&1){l=u[0];let d;for(d=0;d<l.length;d+=1){const p=Se(u,l,d);s[d]?(s[d].p(p,f),R(s[d],1)):(s[d]=Ie(p),s[d].c(),R(s[d],1),s[d].m(e,null))}for(Ne(),d=l.length;d<s.length;d+=1)o(d);Be(),l.length?r&&(r.d(1),r=null):r||(r=qe(),r.c(),r.m(e,null))}},i(u){if(!t){for(let f=0;f<l.length;f+=1)R(s[f]);t=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)D(s[f]);t=!1},d(u){u&&b(e),xe(s,u),r&&r.d()}}}function Ve(n,e,t){let{medias:l=[]}=e;return n.$$set=s=>{"medias"in s&&t(0,l=s.medias)},[l]}class Re extends O{constructor(e){super();N(this,e,Ve,Ze,B,{medias:0})}}function We(n){let e,t,l;return t=new Re({props:{medias:n[0]}}),{c(){e=c("main"),V(t.$$.fragment),i(e,"class","svelte-1qxxaxi")},m(s,o){_(s,e,o),W(t,e,null),l=!0},p:q,i(s){l||(R(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&b(e),Y(t)}}}function Ye(n){const e=[];for(let t=0;t<20;t+=1)e.push({poster:"https://api.lorem.space/image/movie?w=180&h=220"});return[e]}class Xe extends O{constructor(e){super();N(this,e,Ye,We,B,{})}}const ye="https://tcflix.herokuapp.com";async function et(n){return(await fetch(`${ye}/medias/search?query=${n}`)).json()}async function tt(n){return fetch(`${ye}/auth/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})}async function lt(n){return fetch(`${ye}/auth/register`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})}function $e(n){const e=document.cookie.split(";");for(let t=0;t<e.length;t+=1){const l=e[t].split("=");if(n===l[0].trim())return decodeURIComponent(l[1])}return null}async function st(n){return fetch(`${ye}/user/infos`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})}function Oe(){return $e("authToken")!==null&&$e("authToken")!==""}function nt(n){let e,t,l,s,o,r,u,f;return u=new Re({props:{medias:n[1]}}),{c(){e=c("main"),t=c("span"),l=Q('Results for "'),s=Q(n[0]),o=Q('"'),r=g(),V(u.$$.fragment)},m(d,p){_(d,e,p),a(e,t),a(t,l),a(t,s),a(t,o),a(e,r),W(u,e,null),f=!0},p(d,[p]){(!f||p&1)&&X(s,d[0]);const k={};p&2&&(k.medias=d[1]),u.$set(k)},i(d){f||(R(u.$$.fragment,d),f=!0)},o(d){D(u.$$.fragment,d),f=!1},d(d){d&&b(e),Y(u)}}}function it(n,e,t){let l,s;ze(n,Ce,u=>t(3,l=u));let o=new URLSearchParams(l).get("query");const r=Ue(Ce,(u,f)=>{t(0,o=new URLSearchParams(u).get("query")),et(o).then(f).catch(d=>console.log(`Failed to search for medias : ${d}`))});return ze(n,r,u=>t(1,s=u)),[o,s,r]}class ot extends O{constructor(e){super();N(this,e,it,nt,B,{})}}function rt(n){let e,t,l,s;return{c(){e=c("p"),e.textContent="Hello there",t=g(),l=c("img"),ge(l.src,s="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.redd.it%2Fcaa6g5u9amoy.jpg&f=1&nofb=1")||i(l,"src",s),i(l,"alt","obiwan")},m(o,r){_(o,e,r),_(o,t,r),_(o,l,r)},p:q,i:q,o:q,d(o){o&&b(e),o&&b(t),o&&b(l)}}}class at extends O{constructor(e){super();N(this,e,null,rt,B,{})}}function je(n,e,t){const l=n.slice();return l[15]=e[t],l}function ct(n){let e;return{c(){e=c("button"),e.textContent="S'identifier",i(e,"class","btn login-button btn-submit btn-small svelte-1rp1zha"),i(e,"type","submit"),i(e,"autocomplete","off"),i(e,"tabindex","0")},m(t,l){_(t,e,l)},d(t){t&&b(e)}}}function ut(n){let e;return{c(){e=c("button"),e.textContent="Logging in...",e.value="disabled",e.disabled=!0,i(e,"class","btn login-button btn-submit btn-small svelte-1rp1zha"),i(e,"type","submit"),i(e,"tabindex","0")},m(t,l){_(t,e,l)},d(t){t&&b(e)}}}function Pe(n){let e,t=n[2],l=[];for(let s=0;s<t.length;s+=1)l[s]=Te(je(n,t,s));return{c(){e=c("ul");for(let s=0;s<l.length;s+=1)l[s].c();i(e,"class","errors svelte-1rp1zha")},m(s,o){_(s,e,o);for(let r=0;r<l.length;r+=1)l[r].m(e,null)},p(s,o){if(o&4){t=s[2];let r;for(r=0;r<t.length;r+=1){const u=je(s,t,r);l[r]?l[r].p(u,o):(l[r]=Te(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){s&&b(e),xe(l,s)}}}function Te(n){let e,t=n[15]+"",l;return{c(){e=c("li"),l=Q(t),i(e,"class","svelte-1rp1zha")},m(s,o){_(s,e,o),a(e,l)},p(s,o){o&4&&t!==(t=s[15]+"")&&X(l,t)},d(s){s&&b(e)}}}function Le(n){let e,t,l;return{c(){e=c("ul"),t=c("li"),l=Q(n[3]),i(t,"class","svelte-1rp1zha"),i(e,"class","success svelte-1rp1zha")},m(s,o){_(s,e,o),a(e,t),a(t,l)},p(s,o){o&8&&X(l,s[3])},d(s){s&&b(e)}}}function ft(n){let e,t,l,s,o,r,u,f,d,p,k,z,y,w,I,h,m,L,$,C,v,T,H=n[7]?"MASQUER":"AFFICHER",F,ie,fe,J,K,j,oe,te,pe,re,de,le,ae,ce,he,ue,se,G;function M(P,Z){return P[4]?ut:ct}let A=M(n),x=A(n),S=n[2].length>0&&Pe(n),U=n[3]==="Successfully logged in!"&&Le(n);return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("h1"),s.textContent="S'identifier",o=g(),r=c("form"),u=c("div"),f=c("div"),d=c("div"),p=c("input"),k=g(),z=c("label"),z.textContent="E-mail",y=g(),w=c("div"),I=c("div"),h=c("div"),m=c("input"),$=g(),C=c("label"),C.textContent="Mot de passe",v=g(),T=c("button"),F=Q(H),ie=g(),x.c(),fe=g(),J=c("div"),K=c("div"),j=c("input"),oe=g(),te=c("label"),te.innerHTML='<span class="login-remember-me-label-text svelte-1rp1zha">Se souvenir de moi</span>',pe=g(),re=c("div"),de=g(),le=c("a"),le.textContent="Besoin d'aide ?",ae=g(),S&&S.c(),ce=g(),U&&U.c(),he=g(),ue=c("div"),ue.innerHTML=`<div class="login-signup-now svelte-1rp1zha">Premi\xE8re visite sur TCflix ?
                <a class=" svelte-1rp1zha" target="_self" href="#/register">Inscrivez-vous</a></div>`,i(s,"class","svelte-1rp1zha"),i(p,"type","text"),i(p,"name","userLoginId"),i(p,"class","nfTextField svelte-1rp1zha"),i(p,"id","id_userLoginId"),i(p,"tabindex","0"),i(p,"autocomplete","email"),i(z,"for","id_userLoginId"),i(z,"class","placeLabel svelte-1rp1zha"),i(d,"class","nfEmailPhoneControls svelte-1rp1zha"),i(f,"class","nfInputPlacement svelte-1rp1zha"),i(u,"class","nfInput nfEmailPhoneInput login-input login-input-email svelte-1rp1zha"),i(m,"type",L=n[7]?"text":"password"),i(m,"name","password"),i(m,"class","nfTextField svelte-1rp1zha"),i(m,"id","passwordInput"),i(m,"tabindex","0"),i(m,"autocomplete","password"),i(C,"for","passwordInput"),i(C,"class","placeLabel svelte-1rp1zha"),i(T,"id","id_password_toggle"),i(T,"type","button"),i(T,"class","nfPasswordToggle svelte-1rp1zha"),i(T,"title","Afficher le mot de passe"),ve(T,"display",n[6]?"block":"none",!1),i(h,"class","nfPasswordControls svelte-1rp1zha"),i(I,"class","nfInputPlacement svelte-1rp1zha"),i(w,"id","pasw_control"),i(w,"class","nfInput nfPasswordInput login-input login-input-password svelte-1rp1zha"),ee(w,"nfPasswordHasToggle",n[6]),i(j,"type","checkbox"),i(j,"class"," svelte-1rp1zha"),i(j,"name","rememberMe"),i(j,"id","bxid_rememberMe_true"),j.__value="true",j.value=j.__value,i(j,"tabindex","0"),i(te,"for","bxid_rememberMe_true"),i(te,"class","svelte-1rp1zha"),i(re,"class","helper svelte-1rp1zha"),i(K,"class","ui-binary-input login-remember-me svelte-1rp1zha"),i(le,"class","link login-help-link svelte-1rp1zha"),i(le,"href","#/LoginHelp"),i(le,"target","_self"),i(J,"class","hybrid-login-form-help svelte-1rp1zha"),i(l,"class","hybrid-login-form-main svelte-1rp1zha"),i(ue,"class","hybrid-login-form-other svelte-1rp1zha"),i(t,"class","login-content login-form hybrid-login-form hybrid-login-form-signup svelte-1rp1zha"),i(e,"class","login-body svelte-1rp1zha")},m(P,Z){_(P,e,Z),a(e,t),a(t,l),a(l,s),a(l,o),a(l,r),a(r,u),a(u,f),a(f,d),a(d,p),ne(p,n[1]),a(d,k),a(d,z),a(r,y),a(r,w),a(w,I),a(I,h),a(h,m),n[10](m),a(h,$),a(h,C),a(h,v),a(h,T),a(T,F),a(r,ie),x.m(r,null),a(r,fe),a(r,J),a(J,K),a(K,j),j.checked=n[0],a(K,oe),a(K,te),a(K,pe),a(K,re),a(J,de),a(J,le),a(r,ae),S&&S.m(r,null),a(r,ce),U&&U.m(r,null),a(t,he),a(t,ue),se||(G=[E(p,"input",n[9]),E(m,"focus",n[11]),E(m,"blur",n[12]),E(T,"click",n[13]),E(j,"change",n[14]),E(r,"submit",Fe(n[8]))],se=!0)},p(P,[Z]){Z&2&&p.value!==P[1]&&ne(p,P[1]),Z&128&&L!==(L=P[7]?"text":"password")&&i(m,"type",L),Z&128&&H!==(H=P[7]?"MASQUER":"AFFICHER")&&X(F,H),Z&64&&ve(T,"display",P[6]?"block":"none",!1),Z&64&&ee(w,"nfPasswordHasToggle",P[6]),A!==(A=M(P))&&(x.d(1),x=A(P),x&&(x.c(),x.m(r,fe))),Z&1&&(j.checked=P[0]),P[2].length>0?S?S.p(P,Z):(S=Pe(P),S.c(),S.m(r,ce)):S&&(S.d(1),S=null),P[3]==="Successfully logged in!"?U?U.p(P,Z):(U=Le(P),U.c(),U.m(r,null)):U&&(U.d(1),U=null)},i:q,o:q,d(P){P&&b(e),n[10](null),x.d(),S&&S.d(),U&&U.d(),se=!1,be(G)}}}function dt(n,e,t){Oe()&&_e("#/");let l=!1,s="",o={},r="",u=!1,f,d=!1,p=!1;function k(){t(2,o=[]);const L=f.value;s.length===0&&o.push("Email should not be empty"),L.length===0&&o.push("Password should not be empty"),Object.keys(o).length===0&&(t(4,u=!0),tt({email:s,password:L,rememberMe:l}).then(async $=>{if($.ok){const C=await $.json();C.hasOwnProperty("error")&&C.error==="NoAccountError"?o.push("Invalid credentials"):C.hasOwnProperty("authToken")&&C.authToken!==""&&(t(3,r="Successfully logged in!"),document.cookie=`authToken=${C.authToken}; path=/; ${l?`expires=${C.expires}`:""}`,setTimeout(()=>{_e("#/")},2e3))}else $.status===400?o.push("Bad Request"):$.status===500?o.push("Internal Server Error: could not log in."):o.push(`Error code ${$.status}`);t(4,u=!1)}).catch($=>{$.message.includes("NetworkError")?o.push("Unable to reach server."):o.push($),t(4,u=!1)}))}function z(){s=this.value,t(1,s)}function y(L){me[L?"unshift":"push"](()=>{f=L,t(5,f)})}const w=()=>{t(6,d=!0)},I=()=>{t(6,d=!1)},h=()=>{t(7,p=!p)};function m(){l=this.checked,t(0,l)}return[l,s,o,r,u,f,d,p,k,z,y,w,I,h,m]}class pt extends O{constructor(e){super();N(this,e,dt,ft,B,{})}}function Ae(n,e,t){const l=n.slice();return l[16]=e[t],l}function ht(n){let e;return{c(){e=c("button"),e.textContent="Create account",i(e,"class","btn login-button btn-submit btn-small svelte-pon2yd"),i(e,"type","submit"),i(e,"autocomplete","off"),i(e,"tabindex","0")},m(t,l){_(t,e,l)},d(t){t&&b(e)}}}function mt(n){let e;return{c(){e=c("button"),e.textContent="Creating account...",e.value="disabled",e.disabled=!0,i(e,"class","btn login-button btn-submit btn-small svelte-pon2yd"),i(e,"type","submit"),i(e,"tabindex","0")},m(t,l){_(t,e,l)},d(t){t&&b(e)}}}function Ee(n){let e,t=n[2],l=[];for(let s=0;s<t.length;s+=1)l[s]=Me(Ae(n,t,s));return{c(){e=c("ul");for(let s=0;s<l.length;s+=1)l[s].c();i(e,"class","errors svelte-pon2yd")},m(s,o){_(s,e,o);for(let r=0;r<l.length;r+=1)l[r].m(e,null)},p(s,o){if(o&4){t=s[2];let r;for(r=0;r<t.length;r+=1){const u=Ae(s,t,r);l[r]?l[r].p(u,o):(l[r]=Me(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){s&&b(e),xe(l,s)}}}function Me(n){let e,t=n[16]+"",l;return{c(){e=c("li"),l=Q(t),i(e,"class","svelte-pon2yd")},m(s,o){_(s,e,o),a(e,l)},p(s,o){o&4&&t!==(t=s[16]+"")&&X(l,t)},d(s){s&&b(e)}}}function He(n){let e,t,l;return{c(){e=c("ul"),t=c("li"),l=Q(n[3]),i(t,"class","svelte-pon2yd"),i(e,"class","success svelte-pon2yd")},m(s,o){_(s,e,o),a(e,t),a(t,l)},p(s,o){o&8&&X(l,s[3])},d(s){s&&b(e)}}}function gt(n){let e,t,l,s,o,r,u,f,d,p,k,z,y,w,I,h,m,L,$,C,v,T,H,F,ie,fe,J,K,j,oe=n[7]?"MASQUER":"AFFICHER",te,pe,re,de,le,ae,ce,he;function ue(x,S){return x[4]?mt:ht}let se=ue(n),G=se(n),M=n[2].length>0&&Ee(n),A=n[3]==="Account successfully created!"&&He(n);return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("h1"),s.textContent="Cr\xE9er un compte",o=g(),r=c("form"),u=c("div"),f=c("div"),d=c("div"),p=c("input"),k=g(),z=c("label"),z.textContent="Nom complet",y=g(),w=c("div"),I=c("div"),h=c("div"),m=c("input"),L=g(),$=c("label"),$.textContent="E-mail",C=g(),v=c("div"),T=c("div"),H=c("div"),F=c("input"),fe=g(),J=c("label"),J.textContent="Mot de passe",K=g(),j=c("button"),te=Q(oe),pe=g(),G.c(),re=g(),M&&M.c(),de=g(),A&&A.c(),le=g(),ae=c("div"),ae.innerHTML=`<div class="login-signup-now svelte-pon2yd">Vous avez d\xE9j\xE0 un compte ?
                  <a class=" svelte-pon2yd" target="_self" href="#/login">Connectez-vous</a></div>`,i(s,"class","svelte-pon2yd"),i(p,"type","text"),i(p,"name","userLoginId"),i(p,"class","nfTextField svelte-pon2yd"),i(p,"id","id_userLoginId"),i(p,"tabindex","0"),i(p,"autocomplete","name"),i(z,"for","id_userLoginId"),i(z,"class","placeLabel svelte-pon2yd"),i(d,"class","nfEmailPhoneControls svelte-pon2yd"),i(f,"class","nfInputPlacement svelte-pon2yd"),i(u,"class","nfInput nfEmailPhoneInput login-input login-input-email svelte-pon2yd"),i(m,"type","text"),i(m,"name","userLoginId"),i(m,"class","nfTextField svelte-pon2yd"),i(m,"id","id_userLoginId"),i(m,"tabindex","0"),i(m,"autocomplete","email"),i($,"for","id_userLoginId"),i($,"class","placeLabel svelte-pon2yd"),i(h,"class","nfEmailPhoneControls svelte-pon2yd"),i(I,"class","nfInputPlacement svelte-pon2yd"),i(w,"class","nfInput nfEmailPhoneInput login-input login-input-email svelte-pon2yd"),i(F,"type",ie=n[7]?"text":"password"),i(F,"name","password"),i(F,"class","nfTextField svelte-pon2yd"),i(F,"id","passwordInput"),i(F,"tabindex","0"),i(F,"autocomplete","password"),i(J,"for","passwordInput"),i(J,"class","placeLabel svelte-pon2yd"),i(j,"id","id_password_toggle"),i(j,"type","button"),i(j,"class","nfPasswordToggle svelte-pon2yd"),i(j,"title","Afficher le mot de passe"),ve(j,"display",n[6]?"block":"none",!1),i(H,"class","nfPasswordControls svelte-pon2yd"),i(T,"class","nfInputPlacement svelte-pon2yd"),i(v,"id","pasw_control"),i(v,"class","nfInput nfPasswordInput login-input login-input-password svelte-pon2yd"),ee(v,"nfPasswordHasToggle",n[6]),i(l,"class","hybrid-login-form-main svelte-pon2yd"),i(ae,"class","hybrid-login-form-other svelte-pon2yd"),i(t,"class","login-content login-form hybrid-login-form hybrid-login-form-signup svelte-pon2yd"),i(e,"class","login-body svelte-pon2yd")},m(x,S){_(x,e,S),a(e,t),a(t,l),a(l,s),a(l,o),a(l,r),a(r,u),a(u,f),a(f,d),a(d,p),ne(p,n[0]),a(d,k),a(d,z),a(r,y),a(r,w),a(w,I),a(I,h),a(h,m),ne(m,n[1]),a(h,L),a(h,$),a(r,C),a(r,v),a(v,T),a(T,H),a(H,F),n[11](F),a(H,fe),a(H,J),a(H,K),a(H,j),a(j,te),a(r,pe),G.m(r,null),a(r,re),M&&M.m(r,null),a(r,de),A&&A.m(r,null),a(t,le),a(t,ae),ce||(he=[E(p,"input",n[9]),E(m,"input",n[10]),E(F,"focus",n[12]),E(F,"blur",n[13]),E(j,"click",n[14]),E(r,"submit",Fe(n[8]))],ce=!0)},p(x,[S]){S&1&&p.value!==x[0]&&ne(p,x[0]),S&2&&m.value!==x[1]&&ne(m,x[1]),S&128&&ie!==(ie=x[7]?"text":"password")&&i(F,"type",ie),S&128&&oe!==(oe=x[7]?"MASQUER":"AFFICHER")&&X(te,oe),S&64&&ve(j,"display",x[6]?"block":"none",!1),S&64&&ee(v,"nfPasswordHasToggle",x[6]),se!==(se=ue(x))&&(G.d(1),G=se(x),G&&(G.c(),G.m(r,re))),x[2].length>0?M?M.p(x,S):(M=Ee(x),M.c(),M.m(r,de)):M&&(M.d(1),M=null),x[3]==="Account successfully created!"?A?A.p(x,S):(A=He(x),A.c(),A.m(r,null)):A&&(A.d(1),A=null)},i:q,o:q,d(x){x&&b(e),n[11](null),G.d(),M&&M.d(),A&&A.d(),ce=!1,be(he)}}}function vt(n,e,t){let l="",s="",o={},r="",u=!1,f,d=!1,p=!1;function k(){t(2,o=[]);const $=f.value;l.length===0&&o.push("Name should not be empty"),s.length===0?o.push("Email should not be empty"):z(s)||o.push("Email is not correct."),$.length===0&&o.push("Password should not be empty"),Object.keys(o).length===0&&(t(4,u=!0),lt({name:l,email:s,password:$}).then(async C=>{if(C.ok){const v=await C.json();v.hasOwnProperty("response")&&v.response==="OK"?t(3,r="Account successfully created!"):v.hasOwnProperty("error")&&v.error==="AccountAlreadyExistsError"?o.push("Un compte est d\xE9j\xE0 enregistr\xE9 avec cette addresse mail !"):v.hasOwnProperty("error")&&v.error==="IncorrectEmailError"?o.push("Email is not correct."):o.push("A problem happened")}else C.status===400?o.push("Bad Request"):C.status===500?o.push("Internal Server Error: could not create a new account"):o.push(`Error code ${C.status}`);t(4,u=!1)}).catch(C=>{C.message.includes("NetworkError")?o.push("Unable to reach server."):o.push(C),t(4,u=!1)}))}const z=$=>String($).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);function y(){l=this.value,t(0,l)}function w(){s=this.value,t(1,s)}function I($){me[$?"unshift":"push"](()=>{f=$,t(5,f)})}return[l,s,o,r,u,f,d,p,k,y,w,I,()=>{t(6,d=!0)},()=>{t(6,d=!1)},()=>{t(7,p=!p)}]}class _t extends O{constructor(e){super();N(this,e,vt,gt,B,{})}}var bt="/front/assets/tcflix_logo.a4acd197.png";function yt(n){let e,t,l;return{c(){e=c("a"),t=c("img"),ge(t.src,l=bt)||i(t,"src",l),i(t,"alt","logo"),i(t,"width","119"),i(t,"height","45"),i(e,"href","#/")},m(s,o){_(s,e,o),a(e,t)},p:q,i:q,o:q,d(s){s&&b(e)}}}class wt extends O{constructor(e){super();N(this,e,null,yt,B,{})}}function kt(n){let e,t,l;return{c(){e=c("button"),e.innerHTML='<svg height="24" width="32" class="svelte-1k9t7ut"><line id="top" x1="0" x2="32" y1="2" y2="2" class="svelte-1k9t7ut"></line><line id="middle" x1="0" x2="24" y1="12" y2="12" class="svelte-1k9t7ut"></line><line id="bottom" x1="0" x2="32" y1="22" y2="22" class="svelte-1k9t7ut"></line></svg>',i(e,"class","text-white hover:text-gray-800 cursor-pointer mr-4 border-none focus:outline-none svelte-1k9t7ut"),ee(e,"open",n[0])},m(s,o){_(s,e,o),t||(l=E(e,"click",n[1]),t=!0)},p(s,[o]){o&1&&ee(e,"open",s[0])},i:q,o:q,d(s){s&&b(e),t=!1,l()}}}function $t(n,e,t){let{open:l=!1}=e;const s=()=>{t(0,l=!l)};return n.$$set=o=>{"open"in o&&t(0,l=o.open)},[l,s]}class xt extends O{constructor(e){super();N(this,e,$t,kt,B,{open:0})}}function zt(n){let e,t,l,s;return{c(){e=c("form"),t=c("input"),i(t,"type","text"),i(t,"id","search-input"),i(t,"name","query"),i(t,"placeholder","Search..."),i(t,"class","svelte-ptzvee")},m(o,r){_(o,e,r),a(e,t),ne(t,n[0]),l||(s=[E(t,"input",n[3]),E(t,"keyup",n[2]),E(e,"submit",n[1])],l=!0)},p(o,[r]){r&1&&t.value!==o[0]&&ne(t,o[0])},i:q,o:q,d(o){o&&b(e),l=!1,be(s)}}}function Ct(n,e,t){let l="";function s(u){u.preventDefault(),_e(`/search?query=${l}`)}function o(){_e(`/search?query=${l}`)}function r(){l=this.value,t(0,l)}return[l,s,o,r]}class St extends O{constructor(e){super();N(this,e,Ct,zt,B,{})}}function qt(n){let e,t,l,s,o,r,u,f,d,p,k,z,y,w,I;return{c(){e=c("button"),e.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>  <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>',t=g(),l=c("div"),s=c("div"),o=c("div"),o.textContent="Connect\xE9 en tant que",r=g(),u=c("div"),f=Q(n[0]),d=g(),p=c("ul"),p.innerHTML='<li><a href="#/YourAccount" class="block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Param\xE8tres du compte</a></li>',k=g(),z=c("div"),y=c("a"),y.textContent="Se d\xE9connecter",i(e,"id","dropdownDividerButton"),i(e,"data-dropdown-toggle","dropdownDivider"),i(e,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"),i(e,"type","button"),i(u,"class","font-semibold"),i(s,"class","py-3 px-4 text-sm text-gray-900 dark:text-white"),i(p,"class","py-1 text-sm text-gray-700 dark:text-gray-200"),i(p,"aria-labelledby","dropdownDividerButton"),i(y,"href","#/"),i(y,"class","block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"),i(z,"class","py-1"),i(l,"id","dropdownDivider"),i(l,"class","z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600"),ee(l,"hidden",!n[1])},m(h,m){_(h,e,m),_(h,t,m),_(h,l,m),a(l,s),a(s,o),a(s,r),a(s,u),a(u,f),a(l,d),a(l,p),a(l,k),a(l,z),a(z,y),w||(I=[E(e,"click",n[2]),E(y,"click",n[3])],w=!0)},p(h,[m]){m&1&&X(f,h[0]),m&2&&ee(l,"hidden",!h[1])},i:q,o:q,d(h){h&&b(e),h&&b(t),h&&b(l),w=!1,be(I)}}}function It(n,e,t){let l="",s=!1;return st({authToken:$e("authToken")}).then(async u=>{if(u.ok){const f=await u.json();t(0,l=f.email)}}),[l,s,()=>{t(1,s=!s)},()=>{document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.reload()}]}class jt extends O{constructor(e){super();N(this,e,It,qt,B,{})}}function Pt(n){let e;return{c(){e=c("a"),e.textContent="S'identifier",i(e,"href","#/login"),i(e,"class","loginButton flex-none svelte-zp15yl")},m(t,l){_(t,e,l)},i:q,o:q,d(t){t&&b(e)}}}function Tt(n){let e,t;return e=new jt({}),{c(){V(e.$$.fragment)},m(l,s){W(e,l,s),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Lt(n){let e,t,l,s,o,r,u,f,d,p,k,z,y,w,I;function h(v){n[1](v)}let m={};n[0]!==void 0&&(m.open=n[0]),s=new xt({props:m}),me.push(()=>we(s,"open",h)),f=new wt({}),k=new St({});const L=[Tt,Pt],$=[];function C(v,T){return Oe()?0:1}return y=C(),w=$[y]=L[y](n),{c(){e=c("header"),t=c("nav"),l=c("div"),V(s.$$.fragment),r=g(),u=c("div"),V(f.$$.fragment),d=g(),p=c("div"),V(k.$$.fragment),z=g(),w.c(),i(l,"class","flex-none"),i(u,"class","flex-none"),i(p,"class","basis-4/6 grow ml-60"),i(t,"class","flex flex-flow flex-nowrap justify-between items-center gap-1"),i(e,"class","bg-black p-2 text-xl text-red-600")},m(v,T){_(v,e,T),a(e,t),a(t,l),W(s,l,null),a(t,r),a(t,u),W(f,u,null),a(t,d),a(t,p),W(k,p,null),a(t,z),$[y].m(t,null),I=!0},p(v,[T]){const H={};!o&&T&1&&(o=!0,H.open=v[0],ke(()=>o=!1)),s.$set(H)},i(v){I||(R(s.$$.fragment,v),R(f.$$.fragment,v),R(k.$$.fragment,v),R(w),I=!0)},o(v){D(s.$$.fragment,v),D(f.$$.fragment,v),D(k.$$.fragment,v),D(w),I=!1},d(v){v&&b(e),Y(s),Y(f),Y(k),$[y].d()}}}function At(n,e,t){let{sidebar:l=!1}=e;function s(o){l=o,t(0,l)}return n.$$set=o=>{"sidebar"in o&&t(0,l=o.sidebar)},[l,s]}class Et extends O{constructor(e){super();N(this,e,At,Lt,B,{sidebar:0})}}function Mt(n){let e;return{c(){e=c("aside"),e.innerHTML=`<nav class="p-12 text-xl"><a class="block text-white hover:text-red-600" href="#/">Home</a> 
        <a class="block text-white hover:text-red-600" href="#/about">About</a></nav>`,i(e,"class","absolute w-half h-full bg-black border-r-2 shadow-lg svelte-wqzycy"),ee(e,"open",n[0])},m(t,l){_(t,e,l)},p(t,[l]){l&1&&ee(e,"open",t[0])},i:q,o:q,d(t){t&&b(e)}}}function Ht(n,e,t){let{open:l=!1}=e;return n.$$set=s=>{"open"in s&&t(0,l=s.open)},[l]}class Ft extends O{constructor(e){super();N(this,e,Ht,Mt,B,{open:0})}}function Rt(n){let e;return{c(){e=c("footer"),e.innerHTML=`<div class="contain svelte-75q67j"><div class="col svelte-75q67j"><h1 class="svelte-75q67j">Company</h1> 
            <ul class="svelte-75q67j"><li class="svelte-75q67j">About</li> 
                <li class="svelte-75q67j">Mission</li> 
                <li class="svelte-75q67j">Services</li> 
                <li class="svelte-75q67j">Social</li> 
                <li class="svelte-75q67j">Get in touch</li></ul></div> 
        <div class="col svelte-75q67j"><h1 class="svelte-75q67j">Support</h1> 
            <ul class="svelte-75q67j"><li class="svelte-75q67j">Contact us</li> 
                <li class="svelte-75q67j">Web chat</li> 
                <li class="svelte-75q67j">Open ticket</li></ul></div> 
        <div class="col social svelte-75q67j"><h1 class="svelte-75q67j">Social</h1> 
            <ul class="svelte-75q67j"><li class="svelte-75q67j"><img src="https://svgshare.com/i/5fq.svg" width="32" style="width: 32px;" alt="Social Network"/></li> 
                <li class="svelte-75q67j"><img src="https://svgshare.com/i/5eA.svg" width="32" style="width: 32px;" alt="Social Network"/></li> 
                <li class="svelte-75q67j"><img src="https://svgshare.com/i/5f_.svg" width="32" style="width: 32px;" alt="Social Network"/></li></ul></div> 
        <div class="clearfix svelte-75q67j"></div></div>`,i(e,"class","footer svelte-75q67j")},m(t,l){_(t,e,l)},p:q,i:q,o:q,d(t){t&&b(e)}}}class Ot extends O{constructor(e){super();N(this,e,null,Rt,B,{})}}function Nt(n){let e,t,l,s,o,r,u,f,d,p,k;function z(h){n[3](h)}let y={};n[0]!==void 0&&(y.open=n[0]),e=new Ft({props:y}),me.push(()=>we(e,"open",z));function w(h){n[4](h)}let I={};return n[0]!==void 0&&(I.sidebar=n[0]),s=new Et({props:I}),me.push(()=>we(s,"sidebar",w)),f=new De({props:{routes:n[1]}}),f.$on("routeLoaded",n[2]),p=new Ot({}),{c(){V(e.$$.fragment),l=g(),V(s.$$.fragment),r=g(),u=c("div"),V(f.$$.fragment),d=g(),V(p.$$.fragment),i(u,"id","main"),i(u,"class","svelte-1ugjafa")},m(h,m){W(e,h,m),_(h,l,m),W(s,h,m),_(h,r,m),_(h,u,m),W(f,u,null),_(h,d,m),W(p,h,m),k=!0},p(h,[m]){const L={};!t&&m&1&&(t=!0,L.open=h[0],ke(()=>t=!1)),e.$set(L);const $={};!o&&m&1&&(o=!0,$.sidebar=h[0],ke(()=>o=!1)),s.$set($)},i(h){k||(R(e.$$.fragment,h),R(s.$$.fragment,h),R(f.$$.fragment,h),R(p.$$.fragment,h),k=!0)},o(h){D(e.$$.fragment,h),D(s.$$.fragment,h),D(f.$$.fragment,h),D(p.$$.fragment,h),k=!1},d(h){Y(e,h),h&&b(l),Y(s,h),h&&b(r),h&&b(u),Y(f),h&&b(d),Y(p,h)}}}function Bt(n,e,t){let l=!1;const s={"/":Xe,"/search":ot,"/about":at,"/login":pt,"/register":_t};function o(){t(0,l=!1)}function r(f){l=f,t(0,l)}function u(f){l=f,t(0,l)}return[l,s,o,r,u]}class Ut extends O{constructor(e){super();N(this,e,Bt,Nt,B,{})}}new Ut({target:document.getElementById("app")});
